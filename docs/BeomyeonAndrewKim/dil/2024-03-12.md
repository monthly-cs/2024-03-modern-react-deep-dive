# 24-03-12

- 게으른 초기화
    - useState에 변수 대신 함수를 넘기는 것을 게으른 초기화라고함
    - 초깃값이 복잡하거나 무거운 연산을 포함하고 있을 때 사용하라고 권장
    - 인수로 무건운 연산을 포함한 값을 사용한다면 초깃값이 필요한 최초 렌더링값과, 초깃값이 있어 더 이상 필요 없는 리렝더링 시에도 동일하게 계속 해당 값에 접근해서 낭비가 발생

### 3.1.2 useEffect

애플리케이션 내 컴포넌트의 여러 값들을 활용해 동기적으로 부수 효과를 만드는 매커니즘이다.

- useEffect란?
    - useEffect는 자바스크립트의 proxy나 데이터 바인딩, ,옵저버 같은 특별한 기능을 통해 값의 변화를 관찰하는 것이 아니고 렌더링할 때마다 의존성에 있는 값을 보면서 이 의존성의 값이 이전과 다른 게 하나라도 있으면 부수 효과를 실행하는 평범한 함수
- 클린업 함수의 목적
    - 클린업 함수는 비록 새로운 값을 기반으로 렌더링 뒤에 실행되지만 이 변경된 값을 읽는 것이 아니라 함수가 정의됐을 당시에 선언됐던 이전 값을 보고 실행
    - 함수 컴포넌트의 useEffect는 그 콜백이 실행될 때마다 이전의 클린업 함수가 존재한다면 그 클린업 함수를 실행한 뒤에 콜백을 실행한다. 따라서 이벤트 추가하기 전에 이전에 등록했던 이벤트 핸들러를 삭제하는 코드를 클린업 함수에 추가하는 것이다. 이렇게 함으로써 특정 이벤트의 핸들러가 무한히 추가되는 것을 방지
    - 언마운트는 특정 컴포넌트가 DOM에서 사라진다는 것을 의미하는 클래스 컴포넌트의 용어
    - 클린업 함수는 언마운트라기 보다는 함수 컴포넌트가 리렌더링됐으을 때 의존성 변화가 있을을 당시 이전의 값을 기준으로 실행되는, 말 그대로 이전 상태를 청소해 주는 개념으로 보는 것이 옳다