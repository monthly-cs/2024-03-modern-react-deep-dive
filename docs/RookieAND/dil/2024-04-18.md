# ✒️ 모든 웹 개발자가 관심을 가져야 할 핵심 웹 지표

### ✏️ TTFB (Time To First Byte)

1. 정의

- TTFB (Time To First Byte) 는 브라우저가 웹 페이지의 첫번째 바이트를 수신하는데 걸리는 시간을 의미한다.
- 페이지를 요청하고 서버로부터 최초의 응답이 오는 바이트까지 얼마나 걸리는지를 측정하는 지표다.
- 통상적으로 600ms 이상 걸릴 시 개선이 필요한 것으로 간주된다.


2. 어떨 때 주의깊게 봐야 하는가?

- SSR 기반의 웹 애플리케이션에서 주의 깊게 봐야 한다. 서버에서 HTML 을 생성하는 작업이 느릴수록 TTFB 가 길어지기 때문이다.
- 웹페이지의 서버와 사용자가 멀리 떨어져 있어 데이터 서빙 속도가 느린 경우에 대해서도 Edge Server 를 고려하기 위한 지표가 된다.

3. 개선 방안

- SSR 로직을 최적화하여 불필요한 과정 없이 데이터가 빠르게 전달될 수 있도록 설계해야 한다. 
- 웹 페이지를 주로 방문하는 사용자의 국적을 확인하여 해당 Region 에 Edge Server 를 두는 것이 좋다.
- React 기반의 SSR 이라면 `renderToString` 보다는 `renderToPipeableStream` 같이 Stream 기반의 전송 방식을 추천한다. (한번에 보내지 않고 나누어 연속적으로 전송)


### ✏️ FCP (First Contentful Paint)

1. 정의

- FCP (First Contentful Paint) 페이지가 로드되기 시작한 시점부터 컨텐츠의 일부가 화면에 보이기까지 걸리는 시간을 의미한다.
- 지표 측정에 쓰이는 컨텐츠의 경우 이미지, 텍스트, SVG 등이 모두 포함된다.


2. 기준 지표

![alt text](https://web.dev/static/articles/fcp/image/good-fcp-values-18.svg?hl=ko)

- 일반적으로 FCP 는 1.8초 내에 이루어지면 좋고, 3초 이상 걸릴 경우 개선이 필요하다고 본다.


3. 개선 방안

- 서버로부터 빠르게 컨텐츠를 받아야 하므로 TTFB 지표의 개선이 선행되어야 한다.
- 가급적 렌더링 차단 요소를 최소화 하여 화면에 유의미한 컨텐츠가 보이도록 한다.
- 사용자에게 보여지는 요소에 대해서만 렌더링을 수행하고, 숨겨진 영역은 Lazy 하게 데이터를 가져온다.
- 전체 DOM 노드는 1500개, Depth 는 32단계까지, 자식 노드는 60개를 최대로 가지도록 하여 DOM 크기를 최소화 한다.
- 페이지 리다이렉트를 최소화 하여 서버로부터 다시 데이터를 인계받는 일이 적도록 한다.