# DIL: ëª¨ë˜ ë¦¬ì•¡íŠ¸ ë”¥ ë‹¤ì´ë¸Œ, 1ì£¼ì°¨-3

> ìŠ¤í„°ë””: ì›”ê°„ CS, https://github.com/monthly-cs/2024-03-modern-react-deep-dive  
> ì˜¤ëŠ˜ ì§„í–‰: ê°œì¸ê³µë¶€

---

## DIL-week1-3_2024-03-04

| DIL ì£¼ì°¨ | ë²”ìœ„   | ë‚´ìš©                           | ì˜¤ëŠ˜ì°¨ ì§„ë„ |
| -------- | ------ | ------------------------------ | ----------- |
| 1ì£¼ì°¨    | 1, 2ì¥ | ë¦¬ì•¡íŠ¸ í•µì‹¬ìš”ì†Œì™€ ìë°”ìŠ¤í¬ë¦½íŠ¸ | 26pì¤‘~59p   |

> `ì˜¤ëŠ˜ ì½ì€ ë‚´ìš©ì„ markdownìœ¼ë¡œ ê°„ë‹¨íˆ ë©”ëª¨`  
> ì½ì€ ì‹œê°„: 9ì‹œë°˜~12ì‹œ
> ë¹ ë¥´ê²Œ ì½ê¸°~!

## ê°ì²´

- ê°ì²´ëŠ”? ì°¸ì¡° íƒ€ì…ì´ë‹¤~ reference typeì´ë‹¤~
- ê°ì²´ëŠ”? ë³€ê²½ ê°€ëŠ¥í•˜ë‹¤~ writableì´ë‹¤~
- ê°ì²´ëŠ”? ë³µì‚¬í•  ë•Œ ì°¸ì¡°ë¥¼ ì „ë‹¬í•œë‹¤~ ë™ë“± ë¹„êµê°€ ì•ˆëœë‹¤~ !==~

### Object.is

- [ES6(ES2015)] ì–˜ë„ ê°ì²´ ë¹„êµëŠ” !==
- `Object.is({},{}) // false`

### ë¦¬ì•¡íŠ¸ì˜ ë™ë“± ë¹„êµëŠ” Object.isë‹¤?!?

- objectIs: ES6 í´ë¦¬í•„

```tsx
function is(x: any, y: any) {
  return (
    (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y) // eslint-disable-line no-self-compare
  );
}

const objectIs: (x: any, y: any) => boolean =
  typeof Object.is === "function" ? Object.is : is;

export default objectIs;
```

- shallowEqual: ê°ì²´ ê°„ ë¹„êµ(Object.is + ë°°ì—´ ê¸¸ì´ + í‚¤ ë¹„êµ + ê°’ ë¹„êµ)
  - Object.isì™€ ë‹¬ë¦¬ => Reactì˜ shallowEqualì€ ì°¸ì¡°ê°€ ë‹¤ë¥¸ ê°ì²´ë„ 1 depthê¹Œì§€ëŠ” ë¹„êµê°€ ê°€ëŠ¥í•˜ë‹¤~

```tsx
export default function shallowEqual(objA: mixed, objB: mixed): boolean {
  if (is(objA, objB)) return true;

  if (
    typeof objA !== "object" ||
    objA === null ||
    typeof objB !== "object" ||
    objB === null
  )
    return false;

  const keysA = Object.keys(objA); // í‚¤
  const keysB = Object.keys(objB);

  if (keysA.length !== keysB.length) return false; // ë°°ì—´ ê¸¸ì´ ë¹„êµ

  for (let i = 0; i < keysA.length; i++) {
    const currentKey = keyA[i];
    if (
      !hasOwnProperty.call(objB, currentKey) ||
      !is(objA[currentKey], objB[currentKey])
    )
      return false;
  }

  return true;
}
```

- JSX propsëŠ” ê°ì²´ë‹¤~ ì–•ì€ ë¹„êµë¥¼ í•œë‹¤~
  - ì¦‰, propsì— ë˜ ë‹¤ë¥¸ ê°ì²´ë¥¼ ë„˜ê²¨ì¤€ë‹¤ë©´~? ì˜ˆìƒì¹˜ ëª»í•˜ê²Œ ì‘ë™í•  ìˆ˜ ìˆë‹¤~~
- ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ íŠ¹ì§• => ê°ì²´ ë¹„êµì˜ ë¶ˆì™„ì „ì„±, ì–•ì€ ë¹„êµë§Œ ì‚¬ìš©í•´ì„œ í•„ìš”í•œ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê³  ìˆë‹¤.

## í•¨ìˆ˜

- í•¨ìˆ˜ë€?
  - ì‘ì—…ì„ ìˆ˜í–‰í•˜ê±°ë‚˜, ê°’ì„ ê³„ì‚°í•˜ëŠ” ë“±ì˜ ê³¼ì •ì„ => í•˜ë‚˜ì˜ ë¸”ë¡ìœ¼ë¡œ ê°ì‹¸ì„œ ì‹¤í–‰ ë‹¨ìœ„ë¡œ ë§Œë“  ê²ƒ

1. í•¨ìˆ˜ ì„ ì–¸ë¬¸ì€? ë¬¸ statementì´ë‹¤~ ê·¸ëŸ°ë°?? ì½”ë“œ ë¬¸ë§¥ì— ë”°ë¼ í‘œí˜„ì‹ìœ¼ë¡œë„ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤~ (JS ì—”ì§„ì€ ëª» ë§ë ¤~)

```tsx
const sum = function sum(a, b) {
  return a + b;
};

sum(10, 24); // 34
```

2. í•¨ìˆ˜ í‘œí˜„ì‹ì€? ë³€ìˆ˜ì— í• ë‹¹, í•¨ìˆ˜ëª…ì„ ì£¼ë¡œ ìƒëµ

- ì¼ê¸‰ ê°ì²´: ë§¤ê°œë³€ìˆ˜, ë°˜í™˜ê°’, í• ë‹¹ ë‹¤ ê°€ëŠ¥

3. Function ìƒì„±ìëŠ”? í•¨ìˆ˜ ëª¸í†µì´ ë¬¸ìì—´, í´ë¡œì € ìƒì„±ë˜ì§€ ì•ŠìŒ
4. í™”ì‚´í‘œ í•¨ìˆ˜ëŠ”? ìƒì„±ì í•¨ìˆ˜ë¡œ x, arguments ì—†ìŒ

- thisë€? ìì‹ ì´ ì†í•œ ê°ì²´ë‚˜, ìì‹ ì´ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ëŠ” ê°’
- í™”ì‚´í‘œ í•¨ìˆ˜ì˜ thisëŠ”? ìƒìœ„ ìŠ¤ì½”í”„ this~ => ë³„ë„ì˜ ì‘ì—… ì—†ì´ ìƒìœ„ thisì— ì ‘ê·¼

### IIFE, Immediately Invoked Function Expression

- ê¸€ë¡œë²Œ ìŠ¤ì½”í”„ë¥¼ ì˜¤ì—¼ì‹œí‚¤ì§€ ì•ŠëŠ” ë…ë¦½ì ì¸ í•¨ìˆ˜ ìŠ¤ì½”í”„ë¥¼ ìš´ìš©
- ìº¡ìŠ~

### Higher Order Function / Higher Order Component

- ê³ ì°¨ í•¨ìˆ˜~ ì¼ê¸‰ ê°ì²´~ ê³ ì°¨ ì»´í¬ë„ŒíŠ¸~

### ìˆœìˆ˜ í•¨ìˆ˜ Pure Component

- ë¶€ìˆ˜ íš¨ê³¼ side-effect ê°€ ì—†ëŠ” í•¨ìˆ˜
- useEffectë¥¼ ì¤„ì´ì ì§„ì§œë¡œ

### í•¨ìˆ˜ë¥¼ ì‘ê²Œ ë§Œë“¤ì–´ë¼

- max-lines-per-function, 50ì¤„~
- Malcolm Douglas McIlroy => Do One Thing and Do It Well. í•¨ìˆ˜ëŠ” í•˜ë‚˜ì˜ ì¼ì„, ê·¸ í•˜ë‚˜ë§Œ ì˜ í•˜ë©´ ëœë‹¤.

## í´ë˜ìŠ¤

- React 16.8 ì´ì „ì—ëŠ”? í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸
- [ES2019] #ìœ¼ë¡œ private
- Typescript: private, protected, public
- ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œ == í”„ë¡œí† íƒ€ì… ë©”ì„œë“œ

```tsx
const myCar = new Car("ì°¨ì°¨ì°¨");

Object.getPrototypeOf(myCar) === Car.prototype; // true
myCar.__proto__ === Car.prototype; // true
```

- ğŸ“Œ `__proto__`ë¥¼ ì“°ë©´ ì•ˆëœë‹¤ => ì™œëƒ? `typeof null === 'object'` ì²˜ëŸ¼, ì˜ë„ìš´ í‘œì¤€ì€ ì•„ë‹ˆì§€ë§Œ ê³¼ê±° ë¸Œë¼ìš°ì €ì˜ í˜¸í™˜ì„±ì„ ì§€í‚¤ê¸° ìœ„í•´ì„œë§Œ ì¡´ì¬í•˜ëŠ” ê¸°ëŠ¥ì´ê¸° ë•Œë¬¸ì„
- => `Object.getPrototypeOf`ë¥¼ ì“°ì
- prototype chaining ì˜ˆì‹œ => `Object`ì˜ `toString()`

### í´ë˜ìŠ¤ì™€ í•¨ìˆ˜

- ES6 ì´ì „ì—ëŠ” í”„ë¡œí† íƒ€ì…ìœ¼ë¡œ í´ë˜ìŠ¤ ì‘ë™ ë°©ì‹ì„ êµ¬í˜„í–ˆìŒ
- ë°”ë²¨ íŠ¸ëœìŠ¤íŒŒì¼ë§: \_createClass ë¼ëŠ” í—¬í¼ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ => í´ë˜ìŠ¤ì™€ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ë™ì‘í•˜ë„ë¡ í•¨
  - prototype ê¸°ë°˜, ìƒì„±ì í•¨ìˆ˜ë¡œ ìœ ì‚¬í•˜ê²Œ ì¬í˜„ / í´ë˜ìŠ¤ëŠ” syntactic sugar

---

```
ì˜ì–´
Strict Equality Operator, ë™ë“± ì—°ì‚°ì / Equality Operator, ì¼ì¹˜ ì—°ì‚°ì
```
