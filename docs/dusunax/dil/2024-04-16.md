# DIL: ëª¨ë˜ ë¦¬ì•¡íŠ¸ ë”¥ ë‹¤ì´ë¸Œ, 7ì£¼ì°¨-2

> ìŠ¤í„°ë””: ì›”ê°„ CS, https://github.com/monthly-cs/2024-03-modern-react-deep-dive  
> ì˜¤ëŠ˜ ì§„í–‰: ê°œì¸ê³µë¶€

---

## DIL-week7-2_2024-04-16

| DIL ì£¼ì°¨ | ë²”ìœ„       | ë‚´ìš©                                                                                    | ì˜¤ëŠ˜ì°¨ ì§„ë„ |
| -------- | ---------- | --------------------------------------------------------------------------------------- | ----------- |
| 7ì£¼ì°¨    | 12ì¥, 13ì¥ | ëª¨ë“  ì›¹ ê°œë°œìê°€ ê´€ì‹¬ì„ ê°€ì ¸ì•¼ í•  í•µì‹¬ ì›¹ ì§€í‘œ, ì›¹ í˜ì´ì§€ì˜ ì„±ëŠ¥ì„ ì¸¡ì •í•˜ëŠ” ë‹¤ì–‘í•œ ë°©ë²• | 781~788p    |

> `ì˜¤ëŠ˜ ì½ì€ ë‚´ìš©ì„ markdownìœ¼ë¡œ ê°„ë‹¨íˆ ë©”ëª¨`  
> ì½ì€ ì‹œê°„: ì´ 1ì‹œê°„

---

## ëª¨ë“  ì›¹ ê°œë°œìê°€ ê´€ì‹¬ì„ ê°€ì ¸ì•¼ í•  í•µì‹¬ ì›¹ ì§€í‘œ

### ì˜ˆì œ

- LCPëŠ” í˜ì´ì§€ ë¡œë”©ì— ë”°ë¼ ë³€í™”í•˜ëŠ” ì§€í‘œë‹¤.
- LCPëŠ” ì‚¬ìš©ì ë””ë°”ì´ìŠ¤ í¬ê¸°ì— ë”°ë¼ ê°’ì´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤.

#### ê¸°ì¤€ ì ìˆ˜

- ì§€í‘œ ì ìˆ˜ ì¸¡ì •: (1)JS API í˜¸ì¶œ (2)ë„êµ¬ í™œìš©
  ![image](https://github.com/dusunax/javascript/assets/94776135/b49941b6-8bbb-4081-9a91-910905a8ed95)
  > https://web.dev/articles/lcp?hl=ko#what-is-lcp
  > ğŸ’¡ Key Point: LCP includes any **unload time** from the previous page, **connection setup time**, **redirect time**, and **Time To First Byte (TTFB)**, which can all be significant when measured in the field and can lead to differences between field and lab measurements.

#### ê°œì„  ë°©ì•ˆ

- í…ìŠ¤íŠ¸ êµ¿

##### ì´ë¯¸ì§€ ë…¸ì¶œ ë°©ë²•ë³„ ì„±ëŠ¥

- `<img>`, `<picture>`
  - ë¸Œë¼ìš°ì €ì˜ preload ìŠ¤ìºë„ˆì— ì˜í•´ì„œ ë¨¼ì € ë°œê²¬ë˜ì–´ ìš”ì²­ ë“¤ì–´ê°. HTMLì„ íŒŒì‹±í•˜ëŠ” ë‹¨ê³„ë¥¼ ì°¨ë‹¨í•˜ì§€ ì•Šê³ , preloadê°€ í•„ìš”í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ì•„ ë¡œë”©í•˜ëŠ” ë¸Œë¼ìš°ì € ê¸°ëŠ¥.
- `<svg>` ë‚´ë¶€ì˜ `<img>`
  - (í¬ë¡¬ 102ë²„ì „)svgë§Œ ë¡œë”©ëœ ìƒíƒœì—ì„œë„ LCPê°€ ì™„ë£Œëœ ê²ƒìœ¼ë¡œ ê°„ì£¼í•˜ëŠ” ë²„ê·¸ìˆì—ˆìŒ
  - preload x
- `<video>`ì˜ poster
  - video ìš”ì†Œë¥¼ ì¬ìƒí•˜ê±°ë‚˜ íƒìƒ‰í•˜ê¸° ì „ê¹Œì§€ ë…¸ì¶œë˜ëŠ” ìš”ì†Œ (ì¸ë„¤ì¼ì¼)
  - videoê°€ viewportì— ê±¸ë¦°ë‹¤ë©´ì€ (LCP ì˜í–¥) => posterë¥¼ ë„£ì–´ì£¼ì
    - ë‚˜ì¤‘ì— posterê°€ ì—†ë‹¤ë©´ ì‹¤ì œ ë¡œë”©í›„ ì²« í”„ë ˆì„ì„ ë¦¬ì†ŒìŠ¤ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ìˆì„ ì˜ˆì •
    - yes preload
- background image
  - CSSì˜ ë¦¬ì†ŒìŠ¤ëŠ” í•­ìƒ ëŠë¦¬ë‹¤
  - DOMì„ ê·¸ë¦´ ì¤€ë¹„ê°€ ë  ë•Œê¹Œì§€, ë¦¬ì†ŒìŠ¤ ìš”ì²­ì„ ë¯¸ë£¨ê¸° ë•Œë¬¸
  - not preload

#### ê·¸ ë°–ì— ì¡°ì‹¬í•´ì•¼ í•  ì‚¬í•­

- ë¬´ì†ì‹¤ ì•• ì¶•! ìµœì†Œí•œì˜ ìš©ëŸ‰!
- loading=lazyëŠ” LCPì— ì˜í–¥ìˆëŠ” ë¦¬ì†ŒìŠ¤ì—ëŠ” ì‚¬ìš© no no
- fadein ì• ë‹ˆë©”ì´ì…˜ë„ LCPì— í¬í•¨
- í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë¹Œë“œí•˜ì§€ ë§ê²ƒ~
  ```tsx
  // LCPëŠ” ë¦¬ì•¡íŠ¸ ì½”ë“œë¥¼ íŒŒì‹±í•˜ê³  ì½ì€ ë‹´ì—, API ìš”ì²­/ì‘ë‹µ í›„
  useEffect(() => {
    (async function loadData() {
      const result = await fetchData("https://api.takes-time.com");
      if (result.ok) {
        setShow(true);
      }
    })();
  });
  ```
- ê°€ëŠ¥í•˜ë©´~? LCP ë¦¬ì†ŒìŠ¤ëŠ” => ê°™ì€ ë„ë©”ì¸ì—ì„œ ê°€ì ¸ì˜¤ëŠ” ê²ƒì´ ì¢‹ë‹¤
  - cross originì˜ ì´ë¯¸ì§€ ìµœì í™” ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•  ì‹œ, loading=lazyì™€ ë§ˆì°¬ê°€ì§€ë¡œ ìµœì í™”ì— ë³„ë¡œ ì¢‹ì§€ ì•Šë‹¤~

## FiD, First Input Delay

### ì •ì˜

- FIDê°€ ì•…í™”ë˜ëŠ” ì´ìœ ~
  - ë¸Œë¼ìš°ì €ì˜ ë©”ì¸ ìŠ¤ë ˆë“œê°€ ë°”ì˜ë‹¤. (ë‹¤ë¥¸ ì‘ì—… ì²˜ë¦¬ ì¤‘)
    - ëŒ€ê·œëª¨ ëœë”ë§
    - ëŒ€ê·œëª¨ javascript íŒŒì¼ì„ ë¶„ì„ & ì‹¤í–‰
- ë°˜ì‘ì„±ì— í•´ë‹¹í•˜ëŠ” ì‚¬ìš©ì ì…ë ¥: í´ë¦­, í„°ì¹˜, íƒ€ì´í•‘ ë“± ê°œë³„ ì…ë ¥ ì‘ì—…

#### RAIL

- Response: ì‚¬ìš©ìì— ì…ë ¥ì— ëŒ€í•œ ë°˜ì‘ ì†ë„. 50ms <- FIDê°€ ì—¬ê¸° í•´ë‹¹
- Animation: ì• ë‹ˆë©”ì´ì…˜ ê° í”„ë ˆì„ì„ 10ms
- Idle: í˜ì´ì§€ê°€ 50ms ë‚´ì— ì‚¬ìš©ì ì…ë ¥ì— ì‘ë‹µ
- Load: 5ì´ˆ ë‚´ì— ì½˜í…ì¸ ë¥¼ ì „ë‹¬í•˜ê³  ì¸í„°ë ‰ì…˜ ì¤€ë¹„

### INP, Interaction to Next Paint

> https://web.dev/blog/inp-cwv-march-12  
> 2024ë…„ 3ì›”ì— Core web vitalì— FIDë¥¼ ëŒ€ì²´í•˜ì—¬ ì¶”ê°€ë¨ (FID is deprecated)
> ![image](https://github.com/dusunax/javascript/assets/94776135/41bc015d-93f5-4721-8139-d165e158d512)
> Today, we're announcing that INP will officially become a Core Web Vital and replace FID on March 12 of this year, and that FID will be deprecated in this transition.

- ë‹ˆ ì‚¬ì´íŠ¸ PageSpeed Insights í†µê³¼í•˜ëƒ~
  ![image](https://github.com/dusunax/javascript/assets/94776135/315b843c-5310-4c51-befe-1197c1291fcd)

---

ì½ìœ¼ë©´ ì¢‹ì€ ë ˆí¼ëŸ°ìŠ¤

- https://web.dev/articles/defining-core-web-vitals-thresholds?hl=en
  ![image](https://github.com/dusunax/javascript/assets/94776135/4e493569-237c-44cd-ba6b-8925372dd476)
- Cloudinary: ì´ë¯¸ì§€ ìµœì í™” ì„œë¹„ìŠ¤ (í¬ê¸°, í¬ë§·, ì••ì¶•)
  - https://cloudinary.com/ip/gr-sea-gg-brand-home-base?utm_source=google&utm_medium=search&utm_campaign=goog_selfserve_brand_wk22_replicate_core_branded_keyword&utm_term=1329&campaignid=17601148700&adgroupid=141182782954&keyword=cloudinary&device=c&matchtype=e&adposition=&gad_source=1&gclid=CjwKCAjww_iwBhApEiwAuG6ccNyQhRJY3ISGbve8DQkca0989oUulgozh3ZVlbDcflWftMFLe67LlRoCdI8QAvD_BwE
  - https://console.cloudinary.com/pm/c-15c83121473acc71e5bf4cd045bdf7/getting-started
- CrUX Chrome ì‚¬ìš©ì í™˜ê²½ ë³´ê³ ì„œ // ê³µì‹ ë°ì´í„° ì„¸íŠ¸
  - https://developer.chrome.com/docs/crux?hl=ko
