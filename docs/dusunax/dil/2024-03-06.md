# DIL: ëª¨ë˜ ë¦¬ì•¡íŠ¸ ë”¥ ë‹¤ì´ë¸Œ, 1ì£¼ì°¨-3

> ìŠ¤í„°ë””: ì›”ê°„ CS, https://github.com/monthly-cs/2024-03-modern-react-deep-dive  
> ì˜¤ëŠ˜ ì§„í–‰: ê°œì¸ê³µë¶€

---

## DIL-week1-3_2024-03-06

| DIL ì£¼ì°¨ | ë²”ìœ„   | ë‚´ìš©                           | ì˜¤ëŠ˜ì°¨ ì§„ë„ |
| -------- | ------ | ------------------------------ | ----------- |
| 1ì£¼ì°¨    | 1, 2ì¥ | ë¦¬ì•¡íŠ¸ í•µì‹¬ìš”ì†Œì™€ ìë°”ìŠ¤í¬ë¦½íŠ¸ | 93p~123p    |

> `ì˜¤ëŠ˜ ì½ì€ ë‚´ìš©ì„ markdownìœ¼ë¡œ ê°„ë‹¨íˆ ë©”ëª¨`  
> ì½ì€ ì‹œê°„: 8ì‹œ 45ë¶„~12ì‹œ  
> ì˜¤ëŠ˜ ë§ì´ ì½ì–´ì•¼í•¨, ëª©í‘œ 2.xê¹Œì§€? => ã…‡

## `Array`ì˜ map, filter, reduce, forEach

- [ES5]ì´ë‹ˆê¹Œ íŠ¸ëœìŠ¤íŒŒì¼, í´ë¦¬í•„ ë¶€ë‹´ì—†ìŒ
- ê¸°ì¡´ ë°°ì—´ì˜ ê°’ ê±´ë“œë¦¬ì§€ ì•Šìœ¼ë¯€ë¡œ ì•ˆì „~
- ğŸ“Œreduce í•œ ì¤„ ì„¤ëª…: ì½œë°±í•¨ìˆ˜ì™€ í•¨ê»˜ ì´ˆê¸°ê°’ì„ ì¸ìˆ˜ë¡œ ë°›ëŠ”ë°, ì´ˆê¸°ê°’ì— ë”°ë¼ ë°°ì—´, ê°ì²´ ë“±ì„ ë°˜í™˜í•  ìˆ˜ ìˆëŠ” Array í”„ë¡œí† íƒ€ì…ì˜ ë©”ì„œë“œì´ë‹¤

```tsx
// ê°€ë…ì„±ì— ì£¼ëª©
const result1 = arr.filter((item) => item % 2 === 0).map((item) => item * 100); // í•˜ì§€ë§Œ ë°°ì—´ì„ 2ë²ˆ ëˆë‹¤

const result3 = arr.reduce((result, item) => {
  if (item % 2 === 0) result.push(item);
  return result;
}, []);
```

- forEachì˜ íŠ¹ì§•s
  - ë°˜í™˜ê°’: undefined
  - break, returní•´ë„ ìˆœíšŒë¥¼ ë©ˆì¶œ ìˆ˜ ì—†ìŒ: ë¬´ì¡°ê±´ O(n)
- ECMAScript
  - https://github.com/tc39/proposals

## TypeScript

- TypeScript is JavaScript with syntax for types.
- ë™ì  íƒ€ì… ì–¸ì–´ì˜ ë‹¨ì : ì—ëŸ¬ë¥¼ ì½”ë“œë¥¼ ì‹¤í–‰í–ˆì„ ë•Œ í™•ì¸í•œë‹¤
  - => íƒ€ì…ìŠ¤í¬ë¦½íŠ¸: íƒ€ì… ì²´í¬ë¥¼ ì •ì ìœ¼ë¡œ ëŸ°íƒ€ì„ì´ ì•„ë‹Œ ë¹Œë“œ(íŠ¸ëœìŠ¤íŒŒì¼) íƒ€ì„ì— ìˆ˜í–‰
- TypeScript Playground: https://www.typescriptlang.org/play

| êµ¬ë¶„            | ê¸°ëŠ¥                                | ì‚¬ìš© ì˜ˆì‹œ                                          |
| --------------- | ----------------------------------- | -------------------------------------------------- |
| instanceof      | íŠ¹ì • í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ì¸ì§€ í™•ì¸     | ì—ëŸ¬ í•¸ë“¤ë§ ì‹œ ì‚¬ìš© (HttpError, AxiosError etc...) |
| typeof          | íŠ¹ì • ê°’ì˜ ìë£Œí˜•ì¸ì§€ í™•ì¸           | ìš”ì†Œì˜ ìë£Œí˜• ì²´í¬                                 |
| in              | property in object                  | ì£¼ë¡œ ì–´ë–¤ ê°ì²´ì— í‚¤ê°€ ì¡´ì¬í•˜ëŠ” í™•ì¸                |
| generic         | ë‹¨ì¼ íƒ€ì…ì´ ì•„ë‹Œ ë‹¤ì–‘í•œ íƒ€ì…ì— ëŒ€ì‘ | useState ì„ ì–¸í•  ë•Œ ë§ì´ ë´„                         |
| index signature | í‚¤ì— ì›í•˜ëŠ” íƒ€ì…ì„ ë¶€ì—¬í•  ìˆ˜ ìˆë‹¤   | íƒ€ì… ë‹¨ì–¸ hello[key as keyof Hello]                |

### ê·¸ ì™¸

- Flowë¼ëŠ” ì •ì  íƒ€ì… ë¼ì´ë¸ŒëŸ¬ë¦¬ë„ ìˆì—ˆë‹¤(í˜ì´ìŠ¤ë¶)
  - ê¸°ì¡´ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œì— ì• ë„ˆí…Œì´ì…˜
  - (í˜ì´ìŠ¤ë¶) yarnì´ë‚˜ jestë„ TSë¡œ ì¬ì‘ì„±ë¨
- (MS) VSCì˜ Definitely Typed
  - `@types`

### unknown

- top type, type narrowingì´ í•„ìš”

```tsx
function doSomething(callback: unknown) {
  if (typeof callback === "function") {
    callback();
    return;
  }

  throw new Error("callback is not a function");
}
```

### never

- bottom type
- ì–´ë””ë‹¤ ì“°ëƒ?
  - class componentì—ì„œ Propsê°€ ë¹„ì—ˆìŒì„ ë‚˜íƒ€ë‚¼ ë•Œ `type Props = Record<string, never>`

### Generic

- ì œë„ˆë¦­

```tsx
function multipleGeneric<First, Last>(a1: First, a2: Last): [First, Last] {
  return [a1, a2];
}

const [a, b] = multipleGeneric<stirng, boolean>("true", true);
```

- ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜

```tsx
// type Hello = Record<"hello" | "hi", string>;
type Hello = { [key in "hello" | "hi"]: string };

const hello: Hello = {
  hello: "ğŸ‘‹",
  hi: "ğŸ–ï¸",
};
```

- key ë‹¨ì–¸

```tsx
Object.keys(hello).map((key) => hello[key as keyof Hello]);
```

- keysOf í—¬í¼ë¥¼ ë§Œë“¤ì–´ì„œ, string[] ëŒ€ì‹  ê°œë°œìê°€ ë‹¨ì–¸í•œ íƒ€ì…ìœ¼ë¡œ ê°•ì œí•˜ê¸°

```tsx
function keysOf<T extends Object>(obj: T): Array<keyof T> {
  return Array.from(Object.keys(obj)) as Array<keyof T>;
}

keysOf(hello).map((key) => hello[key]);
```

### `Object.keys`ê°€ `string[]`ìœ¼ë¡œ ê°•ì œë˜ì–´ ìˆëŠ” ì´ìœ ?

- íƒ€ì… ì²´í¬ë¥¼ í•  ë•Œ, ê·¸ ê°’ì´ ê°€ì§„ í˜•íƒœì— ì§‘ì¤‘í•˜ê¸° ë•Œë¬¸
- One of TypeScript's core principles in that type checking focuses on the shape that values have. This is sometimes called "duck typing" or "structural subtyping".
- Exact íƒ€ì…ì´ ìƒê¸¸ ìˆ˜ë„~?

### íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì „í™˜ ê°€ì´ë“œ

- tsconfig.json

```tsx
{
  "compilerOptions": {
    "outDir": "./dist",
    "allowJs": true,
    "target": "es5"
  },
  "include": ["./src/**/*"]
}
```

## 2.1 JSX

- íŠ¸ëœìŠ¤íŒŒì¼ëŸ¬ë¥¼ ê±°ì¹˜ì§€ ì•Šìœ¼ë©´ ì˜¤ë¥˜ê°€ ë‚˜ëŠ” ì´ìœ  > JS í‘œì¤€ ì½”ë“œê°€ ì•„ë‹˜
- ëª©ì : (1) HTML, XMLì„ JS ë‚´ë¶€ì— í‘œí˜„ (2) íŠ¸ë¦¬ êµ¬ì¡°ë¥¼ í† í°í™” -(íŠ¸ëœìŠ¤íŒŒì¼)-> ECMAScriptë¡œ ë³€í™˜
- XMLê³¼ ë¹„ìŠ·í•˜ê²Œ ë³´ì´ëŠ” ì´ìœ ? JS ê°œë°œìê°€ ì¹œìˆ™í•˜ê²Œ ëŠë¼ê¸° ìœ„í•´
- JS ë‚´ë¶€ì—ì„œ í‘œí˜„í•˜ê¸° ê¹Œë‹¤ë¡œì› ë˜ XML ìŠ¤íƒ€ì¼ì˜ íŠ¸ë¦¬ êµ¬ë¬¸ ì‘ì„±ì„ ë„ì›€

### ì •ì˜

> JSXElement, JSXAttribute, JSXChildren, JSXString

### â–· JSXElement

- JSXOpeningElement, JSXClosingElement, JSXAttributes, JSXSelfClosingElement

```jsx
<JSXOpeningElement JSXAttributes(optional)>
</JSXClosingElement>

<JSXSelfClosingElement JSXAttributes(optional) />

<></>
```

- ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ íŒŒìŠ¤ì¹¼ë¡œ ë§Œë“¤ì–´ì•¼ í•˜ëŠ” ì´ìœ ?
  - Reactì—ì„œ HTML íƒœê·¸ëª…ê³¼ ì‚¬ìš©ìê°€ ë§Œë“  íƒœê·¸ëª…ì„ êµ¬ë¶„ì§€ìœ¼ë ¤ê³  í•œ ê²ƒ

#### JSXElementName

- JSXIdentifier, JSXNamespacedName, JSXMemberExpression

#### JSXMemberExpression

| íŠ¹ì§•   | ì„¤ëª…                                                                                            |
| ------ | ----------------------------------------------------------------------------------------------- |
| ì—­í•    | ê°ì²´ì˜ ì†ì„±ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë¨                                                              |
| í‘œê¸°ë²• | ê°ì²´ì™€ ì†ì„± ì‚¬ì´ì— ì  í‘œê¸°ë²•ì„ ì‚¬ìš© (ì˜ˆ: object.property)                                       |
| ì˜ˆì‹œ   | <Component.foo />ì—ì„œ ComponentëŠ” ê°ì²´ë¥¼ ë‚˜íƒ€ë‚´ê³ , fooëŠ” í•´ë‹¹ ê°ì²´ì˜ ì†ì„±ì„ ë‚˜íƒ€ëƒ„              |
| ì˜ˆì œ   | https://codesandbox.io/p/sandbox/mordern-react-deep-dive-t9vlwm?file=%2Fsrc%2FApp.tsx%3A25%2C18 |
| íŠ¹ì§•   | nê°œ ë¬¶ì„ ìˆ˜ ìˆìœ¼ë‚˜ => JSXNamespacedNameì™€ ì´ì–´ì„œëŠ” x                                            |

#### JSXIdentifier

| íŠ¹ì§•   | ì„¤ëª…                                                                                                  |
| ------ | ----------------------------------------------------------------------------------------------------- |
| ì—­í•    | ìš”ì†Œ ì´ë¦„ì´ë‚˜ ì†ì„± ì´ë¦„ì„ ë‚˜íƒ€ëƒ„                                                                      |
| í‘œê¸°ë²• | ì¼ë°˜ì ìœ¼ë¡œ íƒœê·¸ ì´ë¦„ì´ë‚˜ ì†ì„± ì´ë¦„ì„ ë‚˜íƒ€ë‚´ë©°, ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ                           |
| ì˜ˆì‹œ   | <div />ì—ì„œ divëŠ” ìš”ì†Œì˜ ì´ë¦„ì„ ë‚˜íƒ€ëƒ„                                                                |
| íŠ¹ì§•   | ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ì‹ë³„ìì™€ ë™ì¼í•˜ê²Œ (1)$, \_ ì™¸ì˜ ë‹¤ë¥¸ íŠ¹ë¬¸ìœ¼ë¡œ ì‹œì‘í•  ìˆ˜ ì—†ìŒ (2) ìˆ«ìë¡œ ì‹œì‘í•  ìˆ˜ ì—†ìŒ |

#### JSXNamespacedName

| íŠ¹ì§•   | ì„¤ëª…                                                                                     |
| ------ | ---------------------------------------------------------------------------------------- |
| ì—­í•    | XML ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ìš”ì†Œë¥¼ ì •ì˜í•¨ ex) RSS, SVG                                   |
| í‘œê¸°ë²• | ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì™€ ìš”ì†Œ ì´ë¦„ ì‚¬ì´ì— ì½œë¡ (:)ì„ ì‚¬ìš©í•˜ì—¬ êµ¬ë¶„í•¨                                |
| ì˜ˆì‹œ   | <svg:rect />ì—ì„œ svgëŠ” ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ë‚˜íƒ€ë‚´ê³ , rectëŠ” ìš”ì†Œì˜ ì´ë¦„ì„ ë‚˜íƒ€ëƒ„ (XML ë„¤ì„ìŠ¤) |
| íŠ¹ì§•   | 2ê°œ ì´ìƒì€ ì˜¬ë°”ë¥¸ ì‹ë³„ìë¡œ ì·¨ê¸‰ë˜ì§€ ì•ŠìŒ                                                 |

### â–· JSXAttributes

> (optional) JSXSpreadAttribute, JSXAttribute

- JSXSpreadAttribute: ì „ê°œ ì—°ì‚°ì, {...AssignmentExpression}
- JSXAttribute: í‚¤ ê°’ ìŒ, {JSXAttributeName: JSXAttributeValue}
  - JSXAttributeValue: "ë¬¸ìì—´", 'ë¬¸ìì—´', {AssignmentExpression}, JSXElement

### â–· JSXChildren

> JSXChild

- JSXChild: JSXChildrenì€ JSXChildë¥¼ 0ê°œ ì´ìƒ ê°€ì§
  - JSXText: {, }, <, > ì œì™¸
  - JSXElement
  - JSXFragment
  - { JSXChildExpression (optional) }
    ```tsx
    <>{(() => "ğŸ‘")()}</>
    ```

### â–· JSXString

- `const message = "This is a \"quoted\" string"`

---

```
english
structural subtyping: êµ¬ì¡°ì  ì„œë¸Œíƒ€ì´í•‘
```
